using System.Collections;
using TMPro;
using UnityEngine;
using UnityEngine.SceneManagement;

namespace UnderPressure.BootScreen
{
    public class BootScreenManager : MonoBehaviour
    {

        public GameObject energyStar;
        public GameObject bootText;
        public TMP_Text bootTMPText;
        public AudioSource audioSource;
        private AsyncOperation _asyncLoad;

        IEnumerator Start()
        {
            audioSource.Play();
            yield return new WaitForSeconds(2f);
            energyStar.SetActive(true);
            yield return new WaitForSeconds(1.5f);
            bootText.SetActive(true);
            bootTMPText.text = "Booting up";
            _asyncLoad = SceneManager.LoadSceneAsync("Login");
            _asyncLoad.allowSceneActivation = false;
            yield return new WaitForSeconds(0.2f);
            bootTMPText.text = "Booting up<br>Made By K3v1nNZ";
            yield return new WaitForSeconds(0.6f);
            bootTMPText.text = "Booting up<br>Made By K3v1nNZ<br>Loading";
            yield return new WaitForSeconds(0.6f);
            bootTMPText.text = "Booting up<br>Made By K3v1nNZ<br>Loading.";
            yield return new WaitForSeconds(0.6f);
            bootTMPText.text = "Booting up<br>Made By K3v1nNZ<br>Loading..";
            yield return new WaitForSeconds(0.6f);
            bootTMPText.text = "Booting up<br>Made By K3v1nNZ<br>Loading...";
            yield return new WaitForSeconds(3.5f);
            _asyncLoad.allowSceneActivation = true;
        }

    }
}
